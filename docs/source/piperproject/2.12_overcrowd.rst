2.12 Overcrowd
==========================

这个项目我们通过led bar，蜂鸣器，pir完成一个检测人流的系统，通过pir检测人流使得led bar发光，蜂鸣器发声。

**Wiring**

|overcrowd0|


* led bar有正负极区分，如果运行代码没有正常亮起，可以尝试翻转led bar

* led bar每一个led灯分别连接IO口GP6至GP15

* 连接蜂鸣器的三极管中间引脚通过1kΩ电阻连接IO口GP4

* pir中间引脚连接IO口GP3

**Code**

连接Pico后，单击开始按钮，当pir检测到有物体通过时，蜂鸣器会发出声响且led bar亮灯数目加1.

|overcrowd|


**How it Works?**

|overcrowd1|

* 初始化变量count为0，并用[setup bar graph led start pin 6 end pin 15]设置GP6到GP15为控制条形灯的IO口。

|overcrowd2|

* [turn pin4 OFF]保持连接GP4的蜂鸣器安静，设置变量prestate用于记录GP3的低电平状态，GP3的电平从低到高转换时则表示与GP3相连的pir检测到物体通过，此时[turn pin4 ON]鸣响蜂鸣器，并将变量count加1.

|overcrowd3|

* 当变量count大于10时，重新将其赋值为1.

|overcrowd4|

* 最后用[bar graph led display up to count]来点亮灯条上的led，数量为count个
